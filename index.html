<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<title>Ringe & Linien – Vollbild</title>
<link rel="stylesheet" href="style.css">
<script src="main.js" defer></script>
</head>
<body>
<!-- mm-Kalibrierung (für Linien-Öffnung) -->
<div id="mmCal" style="position:absolute; visibility:hidden; width:10mm; height:1px;"></div>

<div id="wrap">
  <canvas id="paintCanvas"></canvas>
  <canvas id="c"></canvas>

  <div class="hud hidden" id="hud">
    <span class="stat">Layers: <b id="layersLeft">10</b></span>
    <span class="stat">Bounces: <b id="bounces">0</b></span>
    <button id="backMenu">Zurück ins Menü</button>
    <button id="reset">Neu starten</button>
  </div>

  <div id="msg" class="msg">Alle Layers entfernt! Tippe/Klick in die Mitte und schieße erneut.</div>
</div>

<div id="startScreen">
  <div class="panel">
    <h1>⚙️ Optionen</h1>
    <div class="rows">
      <div class="row">
        <label for="shape">Form</label>
        <select id="shape">
          <option value="circle">Kreis</option>
          <option value="lines">Linien (von oben nach unten)</option>
        </select>
      </div>

      <div class="row">
        <label for="numRings">Anzahl Schichten: <span id="numRingsVal" class="kbd">10</span></label>
        <input id="numRings" type="range" min="3" max="30" value="10"/>
      </div>

      <div class="row">
        <label id="openWidthLbl" for="openWidth">Öffnung (°): <span id="openWidthVal" class="kbd">40°</span></label>
        <input id="openWidth" type="range" min="10" max="160" value="40"/>
      </div>

      <div class="row">
        <label for="shotSpeed">Max. Schusskraft: <span id="shotSpeedVal" class="kbd">1100</span></label>
        <input id="shotSpeed" type="range" min="300" max="1800" value="1100"/>
      </div>

      <div class="row">
        <label for="gravity">Gravitation: <span id="gravityVal" class="kbd">1300</span></label>
        <input id="gravity" type="range" min="400" max="2200" value="1300"/>
      </div>

      <div class="row">
        <label for="trailLen">Spurlänge (Normalmodus): <span id="trailLenVal" class="kbd">70</span></label>
        <input id="trailLen" type="range" min="10" max="1000" value="70"/>
      </div>

      <div class="row">
        <label><input id="multi" type="checkbox"/> Multiball</label>
      </div>

      <!-- ZEICHENMODUS – Farben/Palette -->
      <div class="row">
        <label><input id="drawMode" type="checkbox"/> Zeichenmodus (permanenter Schweif)</label>
      </div>
      <div class="row">
        <label for="drawColorMode">Schweif-Farbe</label>
        <select id="drawColorMode">
          <option value="rainbow">🌈 Regenbogen</option>
          <option value="red">🔴 Rot</option>
          <option value="blue">🔵 Blau</option>
          <option value="green">🟢 Grün</option>
          <option value="magenta">🟣 Magenta</option>
          <option value="cyan">🔷 Cyan</option>
          <option value="yellow">🟡 Gelb</option>
          <option value="white">⚪ Weiß</option>
          <option value="neon">✨ Neon-Palette (cycle)</option>
        </select>
      </div>

      <!-- AUDIO -->
      <div class="row">
        <label for="pitchShift">Tonleiter – Pitch (±5 HT): <span id="pitchShiftVal" class="kbd">0</span></label>
        <input id="pitchShift" type="range" min="-5" max="5" step="1" value="0"/>
      </div>

      <div class="row">
        <label for="toneDur">Ton-Dauer (bis 5 s): <span id="toneDurVal" class="kbd">0.22 s</span></label>
        <input id="toneDur" type="range" min="0.22" max="5" step="0.01" value="0.22"/>
      </div>

      <div class="row">
        <label for="toneOrder">Reihenfolge Tonfolge</label>
        <select id="toneOrder">
          <option value="updown">aufsteigend–absteigend</option>
          <option value="downup">absteigend–aufsteigend</option>
          <option value="random">zufällig</option>
          <!-- >>> NEU: bekannte Melodien -->
          <option value="melody_entchen">bekannt: Alle meine Entchen</option>
          <option value="melody_bond">bekannt: James Bond</option>
          <!-- <<< NEU -->
        </select>
      </div>

      <div class="row">
        <label for="toneType">Ton-Art</label>
        <select id="toneType">
          <option value="sine">Sine</option>
          <option value="square">Square</option>
          <option value="sawtooth">Saw</option>
          <option value="triangle">Triangle</option>
          <option value="horn">Hupe</option>
          <option value="fart">Pupsen</option>
          <option value="pluck">Pluck</option>
          <option value="noise">Noise</option>
        </select>
      </div>

      <div class="row">
        <label><input id="autoRestart" type="checkbox"/> Auto-Neustart nach letzter Schicht</label>
      </div>
    </div>

    <div class="hint">
      <span class="kbd">Ziehen &amp; Loslassen</span> zum Schießen (bei Linien: Start oben) •
      <span class="kbd">Tap/Klick</span> nahe Zentrum/Start: Ball-Reset
    </div>

    <div class="actions">
      <button id="startBtn" class="primary">START (Vollbild)</button>
    </div>
  </div>
</div>
</body>
</html>
